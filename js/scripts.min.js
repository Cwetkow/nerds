function initialize(){var e={scrollwheel:!1,zoom:17,center:new google.maps.LatLng(59.9389678,30.32)},t=new google.maps.Map(document.getElementById("map-canvas"),e),r="img/marker.png",o=new google.maps.LatLng(59.93871,30.3238);new google.maps.Marker({position:o,map:t,icon:r})}function setSliderHandle(e,t){var r=[null,null];r[e]=t,keypressSlider.noUiSlider.set(r)}var btn=document.querySelector(".map .btn"),form=document.querySelector(".map .feedback-form"),close=document.querySelector(".feedback-form-close"),closebtn=form.querySelector(".feedback-form .btn-gray"),name=form.querySelector("[name=name]"),email=form.querySelector("[name=email]"),text=form.querySelector("[name=text]"),storage1=localStorage.getItem("name"),storage2=localStorage.getItem("email");btn.addEventListener("click",function(e){e.preventDefault(),form.classList.add("feedback-form-show"),storage1&&(name.value=storage1),storage2&&(email.value=storage2)}),close.addEventListener("click",function(){form.classList.remove("feedback-form-show"),form.classList.remove("form-error")}),closebtn.addEventListener("click",function(e){e.preventDefault(),form.classList.remove("feedback-form-show"),form.classList.remove("form-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&form.classList.contains("feedback-form-show")&&(form.classList.remove("feedback-form-show"),form.classList.remove("form-error"))}),form.addEventListener("submit",function(e){name.value&&email.value&&text.value?(localStorage.setItem("name",name.value),localStorage.setItem("email",email.value)):(e.preventDefault(),form.classList.remove("form-error"),form.offsetWidth=form.offsetWidth,form.classList.add("form-error"))}),google.maps.event.addDomListener(window,"load",initialize);var keypressSlider=document.getElementById("keypress"),input0=document.getElementById("input-with-keypress-0"),input1=document.getElementById("input-with-keypress-1"),inputs=[input0,input1];noUiSlider.create(keypressSlider,{start:[0,15e3],connect:!0,step:1e3,range:{min:0,max:2e4}}),keypressSlider.noUiSlider.on("update",function(e,t){inputs[t].value=e[t]}),inputs.forEach(function(e,t){e.addEventListener("change",function(){setSliderHandle(t,this.value)}),e.addEventListener("keydown",function(e){var r,o=keypressSlider.noUiSlider.get(),n=Number(o[t]),a=keypressSlider.noUiSlider.steps(),s=a[t];switch(e.which){case 13:setSliderHandle(t,this.value);break;case 38:r=s[1],r===!1&&(r=1),null!==r&&setSliderHandle(t,n+r);break;case 40:r=s[0],r===!1&&(r=1),null!==r&&setSliderHandle(t,n-r)}})});